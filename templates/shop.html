<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wolvesville Gift Shop - RXZBot</title>
    <style>
        :root{
            --bg:#0a0e1a; --card:#0f1724; --muted:#9aa4b2; --accent:#00d4ff; --danger:#ff4757; --glass: rgba(255,255,255,0.02); --success:#2ed573;
            --radius:16px; --glow:0 0 20px rgba(0,212,255,0.3); --gold:#ffd700;
        }
        *{box-sizing:border-box; margin:0; padding:0;}
        body{
            font-family:'Segoe UI',system-ui,Arial;
            background:linear-gradient(135deg,#071026,#0d1526,#1a1f35);
            color:#eaf1ff;
            min-height:100vh;
            overflow-x:hidden;
        }
        
        /* Particles */
        .particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}
        .particle{position:absolute;background:var(--accent);border-radius:50%;opacity:0.1;animation:float 10s infinite linear}
        @keyframes float{from{transform:translateY(100vh) rotate(0deg)}to{transform:translateY(-100px) rotate(360deg)}}
        
        .wrap{width:100%;max-width:1400px;margin:0 auto;padding:20px;position:relative;z-index:1}
        
        /* Header */
        header{text-align:center;padding:60px 20px 40px;position:relative}
        h1{margin:0;font-size:3.5rem;background:linear-gradient(90deg,var(--accent),#7b4bff);background-clip:text;-webkit-background-clip:text;color:transparent;animation:pulse 2s infinite;text-shadow:0 0 40px rgba(0,212,255,0.3)}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.85}}
        .subtitle{color:var(--muted);font-size:1.3rem;margin:15px 0;font-weight:300}
        
        .back-link{
            position:absolute;
            top:20px;
            left:20px;
            z-index: 10;
            pointer-events: auto;
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            color:#fff;
            padding:12px 24px;
            border-radius:12px;
            text-decoration:none;
            font-weight:600;
            transition:all 0.3s;
            display:inline-flex;
            align-items:center;
            gap:8px;
        }
        .back-link:hover{transform:scale(1.05);box-shadow:var(--glow)}
        
        /* Cart Button */
        .cart-button{
            position:absolute;
            top:20px;
            right:20px;
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            color:#fff;
            padding:12px 24px;
            border-radius:12px;
            border:none;
            font-size:1.2rem;
            cursor:pointer;
            box-shadow:0 8px 30px rgba(0,212,255,0.5);
            transition:all 0.3s;
            z-index:100;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            gap:8px;
            font-weight:600;
        }
        .cart-button:hover{transform:scale(1.05);box-shadow:var(--glow)}
        .cart-count{
            background:var(--danger);
            color:#fff;
            min-width:24px;
            height:24px;
            border-radius:12px;
            display:none;
            align-items:center;
            justify-content:center;
            font-size:0.85rem;
            font-weight:700;
            padding:0 8px;
        }
        
        /* Tabs */
        .tabs{
            display:flex;
            gap:10px;
            margin-bottom:40px;
            flex-wrap:wrap;
            justify-content:center;
            padding:0 20px;
        }
        .tab{
            background:linear-gradient(135deg,rgba(255,255,255,0.05),rgba(255,255,255,0.02));
            color:var(--muted);
            border:2px solid rgba(255,255,255,0.1);
            padding:12px 24px;
            border-radius:25px;
            cursor:pointer;
            font-size:1em;
            transition:all 0.3s;
            backdrop-filter:blur(10px);
            font-weight:600;
        }
        .tab:hover{
            background:rgba(255,255,255,0.08);
            border-color:rgba(0,212,255,0.3);
            transform:translateY(-2px);
        }
        .tab.active{
            background:linear-gradient(135deg,rgba(0,212,255,0.15),rgba(123,75,255,0.1));
            border-color:var(--accent);
            color:#fff;
            box-shadow:0 0 20px rgba(0,212,255,0.3);
        }
        
        /* Products Grid */
        .products-grid{
            display:grid;
            grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));
            gap:25px;
            margin-bottom:40px;
            padding:0 20px;
        }
        
        .product-card{
            background:linear-gradient(135deg,rgba(255,255,255,0.05),rgba(255,255,255,0.02));
            border-radius:var(--radius);
            padding:25px;
            border:2px solid rgba(255,255,255,0.1);
            transition:all 0.4s cubic-bezier(0.4,0,0.2,1);
            display:flex;
            flex-direction:column;
            position:relative;
            overflow:hidden;
        }
        .product-card::before{
            content:'';
            position:absolute;
            top:-50%;
            left:-50%;
            width:200%;
            height:200%;
            background:radial-gradient(circle,rgba(0,212,255,0.1),transparent 70%);
            opacity:0;
            transition:opacity 0.5s,transform 0.8s;
            transform:scale(0);
            pointer-events:none;
        }
        .product-card:hover::before{opacity:1;transform:scale(1)}
        .product-card:hover{
            transform:translateY(-8px) scale(1.02);
            border-color:var(--accent);
            box-shadow:0 20px 60px rgba(0,212,255,0.3);
        }
        
        .category-emoji{
            font-size:2.5rem;
            margin-bottom:15px;
            text-align:center;
            filter:drop-shadow(0 0 10px rgba(0,212,255,0.3));
        }
        
        .product-image{
            width:100%;
            height:200px;
            object-fit:cover;
            border-radius:12px;
            margin-bottom:15px;
            background:linear-gradient(135deg,rgba(255,255,255,0.05),rgba(255,255,255,0.02));
            border:1px solid rgba(255,255,255,0.1);
        }
        
        .product-name{
            font-size:1.3rem;
            font-weight:700;
            color:#fff;
            margin-bottom:10px;
            text-align:center;
        }
        
        .product-price{
            font-size:1.8rem;
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            background-clip:text;
            -webkit-background-clip:text;
            color:transparent;
            font-weight:700;
            margin-bottom:15px;
            text-align:center;
        }
        
        .buy-button{
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            color:#fff;
            border:none;
            padding:14px 20px;
            border-radius:12px;
            cursor:pointer;
            font-size:1.05rem;
            font-weight:700;
            transition:all 0.3s;
            margin-top:auto;
            position:relative;
            overflow:hidden;
        }
        .buy-button::before{
            content:'';
            position:absolute;
            top:50%;
            left:50%;
            width:0;
            height:0;
            border-radius:50%;
            background:rgba(255,255,255,0.2);
            transition:width 0.6s,height 0.6s,top 0.6s,left 0.6s;
            pointer-events:none;
        }
        .buy-button:hover::before{width:500px;height:500px;top:-250px;left:-250px}
        .buy-button:hover{
            transform:scale(1.05);
            box-shadow:0 8px 30px rgba(0,212,255,0.5);
        }
        
        /* Modal */
        .modal{
            display:none;
            position:fixed;
            top:0;
            left:0;
            width:100%;
            height:100%;
            background:rgba(0,0,0,0.85);
            backdrop-filter:blur(10px);
            justify-content:center;
            align-items:center;
            z-index:1000;
            animation:fadeIn 0.3s ease;
        }
        .modal.active{display:flex;}
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
        
        .modal-content{
            background:linear-gradient(135deg,var(--card),rgba(15,23,36,0.95));
            padding:40px;
            border-radius:var(--radius);
            max-width:600px;
            width:90%;
            max-height:90vh;
            overflow-y:auto;
            border:2px solid rgba(0,212,255,0.3);
            box-shadow:0 20px 80px rgba(0,0,0,0.9);
            animation:slideUp 0.4s ease;
        }
        @keyframes slideUp{from{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}
        
        .modal-header{
            font-size:1.8rem;
            font-weight:700;
            margin-bottom:25px;
            color:#fff;
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            background-clip:text;
            -webkit-background-clip:text;
            color:transparent;
        }
        
        /* Cart Modal */
        .cart-items{
            max-height:400px;
            overflow-y:auto;
            margin-bottom:20px;
        }
        
        .cart-item{
            background:linear-gradient(135deg,rgba(255,255,255,0.05),rgba(255,255,255,0.02));
            border-radius:12px;
            padding:15px;
            margin-bottom:12px;
            display:flex;
            justify-content:space-between;
            align-items:center;
            border:1px solid rgba(255,255,255,0.1);
        }
        
        .cart-item-info{
            flex:1;
        }
        
        .cart-item-name{
            font-weight:600;
            color:#fff;
            margin-bottom:5px;
        }
        
        .cart-item-price{
            color:var(--accent);
            font-size:0.95rem;
        }
        
        .cart-item-controls{
            display:flex;
            align-items:center;
            gap:10px;
        }
        
        .qty-btn, .remove-btn{
            background:rgba(255,255,255,0.1);
            border:1px solid rgba(255,255,255,0.2);
            color:#fff;
            width:32px;
            height:32px;
            border-radius:8px;
            cursor:pointer;
            font-size:1.1rem;
            font-weight:700;
            transition:all 0.3s;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        
        .qty-btn:hover{
            background:rgba(0,212,255,0.2);
            border-color:var(--accent);
        }
        
        .remove-btn{
            background:rgba(255,71,87,0.1);
            border-color:rgba(255,71,87,0.3);
        }
        
        .remove-btn:hover{
            background:rgba(255,71,87,0.2);
            border-color:var(--danger);
        }
        
        .cart-item-qty{
            font-weight:700;
            color:#fff;
            min-width:25px;
            text-align:center;
        }
        
        .empty-cart{
            text-align:center;
            padding:60px 20px;
            color:var(--muted);
            font-size:1.2rem;
        }
        
        /* Coupon Input */
        .coupon-section{
            background:linear-gradient(135deg,rgba(255,215,0,0.1),rgba(255,215,0,0.05));
            border:2px dashed rgba(255,215,0,0.3);
            border-radius:12px;
            padding:20px;
            margin-bottom:20px;
        }
        
        .coupon-title{
            font-weight:700;
            color:var(--gold);
            margin-bottom:12px;
            display:flex;
            align-items:center;
            gap:8px;
        }
        
        .coupon-input-group{
            display:flex;
            gap:10px;
        }
        
        .coupon-input-group input{
            flex:1;
            padding:12px 16px;
            border-radius:10px;
            border:2px solid rgba(255,215,0,0.3);
            background:rgba(0,0,0,0.3);
            color:#fff;
            font-size:1rem;
            text-transform:uppercase;
            font-weight:600;
            letter-spacing:1px;
            transition:all 0.3s;
        }
        
        .coupon-input-group input:focus{
            outline:none;
            border-color:var(--gold);
            box-shadow:0 0 20px rgba(255,215,0,0.3);
        }
        
        .apply-coupon-btn{
            padding:12px 24px;
            background:linear-gradient(135deg,var(--gold),#ffa500);
            border:none;
            border-radius:10px;
            color:#000;
            font-weight:700;
            cursor:pointer;
            transition:all 0.3s;
        }
        
        .apply-coupon-btn:hover{
            transform:scale(1.05);
            box-shadow:0 8px 25px rgba(255,215,0,0.4);
        }
        
        .apply-coupon-btn:disabled{
            opacity:0.5;
            cursor:not-allowed;
        }
        
        /* Cart Summary */
        .cart-summary{
            background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(123,75,255,0.05));
            border-radius:12px;
            padding:20px;
            border:1px solid rgba(0,212,255,0.3);
            margin-bottom:20px;
        }
        
        .summary-row{
            display:flex;
            justify-content:space-between;
            padding:10px 0;
            color:var(--muted);
            font-size:1.05rem;
        }
        
        .summary-row.discount{
            color:var(--success);
        }
        
        .summary-row.total{
            border-top:2px solid rgba(255,255,255,0.1);
            margin-top:10px;
            padding-top:15px;
            font-size:1.4rem;
            font-weight:700;
            color:#fff;
        }
        
        .summary-row.total span:last-child{
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            background-clip:text;
            -webkit-background-clip:text;
            color:transparent;
        }
        
        .form-group{
            margin-bottom:20px;
        }
        .form-group label{
            display:block;
            margin-bottom:8px;
            color:var(--muted);
            font-weight:600;
            font-size:0.95rem;
            text-transform:uppercase;
            letter-spacing:0.5px;
        }
        .form-group input,.form-group textarea{
            width:100%;
            padding:14px 16px;
            border-radius:12px;
            border:2px solid rgba(255,255,255,0.1);
            background:linear-gradient(135deg,rgba(255,255,255,0.05),rgba(255,255,255,0.02));
            color:#fff;
            font-size:1rem;
            transition:all 0.3s;
            font-family:inherit;
        }
        .form-group input:focus,.form-group textarea:focus{
            outline:none;
            border-color:var(--accent);
            box-shadow:0 0 20px rgba(0,212,255,0.2);
            background:rgba(255,255,255,0.08);
        }
        .form-group textarea{resize:vertical;min-height:80px}
        
        .modal-buttons{
            display:flex;
            gap:15px;
            margin-top:30px;
        }
        .modal-button{
            flex:1;
            padding:14px 20px;
            border:none;
            border-radius:12px;
            font-size:1.05rem;
            font-weight:700;
            cursor:pointer;
            transition:all 0.3s;
            position:relative;
            overflow:hidden;
        }
        .modal-button.primary{
            background:linear-gradient(90deg,var(--accent),#7b4bff);
            color:#fff;
        }
        .modal-button.primary::before{
            content:'';
            position:absolute;
            top:50%;
            left:50%;
            width:0;
            height:0;
            border-radius:50%;
            background:rgba(255,255,255,0.2);
            transition:width 0.6s,height 0.6s,top 0.6s,left 0.6s;
            pointer-events:none;
        }
        .modal-button.primary:hover::before{width:500px;height:500px;top:-250px;left:-250px}
        .modal-button.secondary{
            background:linear-gradient(135deg,rgba(255,255,255,0.1),rgba(255,255,255,0.05));
            color:var(--muted);
            border:2px solid rgba(255,255,255,0.2);
        }
        .modal-button:hover{transform:scale(1.03)}
        .modal-button.primary:hover{box-shadow:0 8px 30px rgba(0,212,255,0.5)}
        
        /* Notifications */
        .notification{
            position:fixed;
            top:100px;
            right:30px;
            background:linear-gradient(135deg,var(--success),#20bf55);
            color:#fff;
            padding:16px 24px;
            border-radius:12px;
            box-shadow:0 8px 30px rgba(46,213,115,0.4);
            font-weight:600;
            z-index:10000;
            opacity:0;
            transform:translateY(-20px);
            transition:all 0.3s;
        }
        
        .notification.show{
            opacity:1;
            transform:translateY(0);
        }
        
        .notification-error{
            background:linear-gradient(135deg,var(--danger),#e84118);
            box-shadow:0 8px 30px rgba(255,71,87,0.4);
        }
        
        .notification-info{
            background:linear-gradient(135deg,var(--accent),#0097e6);
            box-shadow:0 8px 30px rgba(0,212,255,0.4);
        }
        
        /* Empty State */
        .empty-state{
            text-align:center;
            padding:80px 20px;
            color:var(--muted);
        }
        .empty-state .icon{font-size:4rem;margin-bottom:20px;opacity:0.5}
        
        /* Responsive */
        @media(max-width:768px){
            h1{font-size:2.5rem}
            .products-grid{grid-template-columns:repeat(auto-fill, minmax(250px, 1fr))}
            .modal-content{padding:30px 20px}
            .back-link, .cart-button{
                position:absolute;
                padding:10px 16px;
                font-size:0.9rem;
            }
            .back-link{
                top:10px;
                left:10px;
            }
            .cart-button{
                top:10px;
                right:10px;
            }
            header{
                padding-top:70px;
            }
            .notification{
                right:10px;
                left:10px;
                top:70px;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="wrap">
        <a href="/" class="back-link">
            <span>‚Üê</span>
            <span>Back to Home</span>
        </a>
        
        <!-- Cart Button -->
        <button id="cartButton" class="cart-button" onclick="toggleCart()">
            <span>üõí</span>
            <span>Cart</span>
            <span id="cartCount" class="cart-count">0</span>
        </button>
        
        <header>
            <h1>üéÅ Wolvesville Gift Shop</h1>
            <p class="subtitle">Premium items, calendars & bundles delivered instantly</p>
        </header>

        <div class="tabs">
            <button class="tab active" data-category="all">‚ú® All Items</button>
            <button class="tab" data-category="coins">ü™ô Coins</button>
            <button class="tab" data-category="bpcoins">üé´ BP Coins</button>
            <button class="tab" data-category="emote">üòÄ Emojis</button>
            <button class="tab" data-category="premium">üëë Premium</button>
            <button class="tab" data-category="lootbox">üéÅ Lootboxes</button>
            <button class="tab" data-category="rolecards">üé¥ Role Cards</button>
            <button class="tab" data-category="calendar">üìÖ Calendars</button>
            <button class="tab" data-category="bundles">üì¶ Bundles</button>
        </div>

        <div id="products" class="products-grid"></div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">üõí Shopping Cart</div>
            
            <!-- Coupon Section -->
            <div class="coupon-section">
                <div class="coupon-title">
                    <span>üé´</span>
                    <span>Have a Coupon Code?</span>
                </div>
                <div class="coupon-input-group">
                    <input type="text" id="couponInput" placeholder="ENTER CODE" maxlength="20">
                    <button class="apply-coupon-btn" onclick="applyCoupon()">Apply</button>
                </div>
            </div>
            
            <div id="cartItems" class="cart-items"></div>
            
            <div id="cartSummary" class="cart-summary"></div>
            
            <div class="modal-buttons">
                <button class="modal-button secondary" onclick="toggleCart()">Continue Shopping</button>
                <button class="modal-button primary" onclick="proceedToCheckout()">Checkout</button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">üéÅ Complete Your Purchase</div>
            <div class="form-group">
                <label>Wolvesville Username</label>
                <input type="text" id="username" placeholder="Enter your username" required>
            </div>
            <div class="form-group">
                <label>Confirm Username</label>
                <input type="text" id="usernameConfirm" placeholder="Confirm your username" required>
            </div>
            <div class="form-group">
                <label>Gift Message (Optional)</label>
                <textarea id="message" rows="3" placeholder="Add a personal message..."></textarea>
            </div>
            <div class="modal-buttons">
                <button class="modal-button secondary" onclick="closeCheckout()">Cancel</button>
                <button class="modal-button primary" onclick="completePurchase()">Proceed to Payment</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='shop.js') }}"></script>
    <script>
        // Particles animation
        function createParticles(){
            const container = document.getElementById('particles');
            for(let i=0;i<50;i++){
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random()*100 + '%';
                p.style.width = p.style.height = Math.random()*4 + 2 + 'px';
                p.style.animationDelay = Math.random()*10 + 's';
                container.appendChild(p);
            }
        }
        createParticles();
    </script>
</body>
</html>